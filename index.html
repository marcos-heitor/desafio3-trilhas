<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formulário Trilhas</title>
    <link rel="stylesheet" href="styleFormulario.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
    <style>
        .btn-salvar {
            background-color: #28a745;
            color: white;
            padding: 10px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
        }

        .btn-salvar:hover {
            background-color: #218838;
        }
    </style>
</head>

<body>
    <main class="apresentacao">
        <section class="conteudo">
            <div class="botao__voltar">
                <img src="./imagens/arrow-left-02.png" />
                <button onclick="window.location.href='Capa.html'">Voltar</button>
            </div>

            <h1 class="titulo-destaque">Formulário de Inscrição</h1>
            <h2 class="titulo__pagina__inicial">Preencha os dados abaixo para a realização da inscrição no programa
                trilhas</h2>

            <div class="info__participantes">
                <h3>Informações do Participante</h3>

                <p>Nome completo</p>
                <div class="box">
                    <input type="text" placeholder="Seu nome aqui..." required />
                </div>

                <p>Data de nascimento</p>
                <div class="box">
                    <input type="text" id="data-nascimento" placeholder="dd/mm/aaaa" maxlength="10" required />
                    <span id="erro-data" style="color: red; font-size: 14px; display: none;">Data inválida (ex:
                        05/06/2008)</span>
                </div>

                <p>CPF</p>
                <div class="box">
                    <input type="text" id="cpf" placeholder="000.000.000-00" maxlength="14" required />
                    <span id="erro-cpf" style="color: red; font-size: 14px; display: none;">CPF inválido (ex:
                        000.000.000-00)</span>
                </div>

                <p>Sexo</p>
                <div class="box">
                    <input type="text" placeholder="Escolha entre: Masculino, Feminino ou Outros" list="sexo-list"
                        required />
                    <datalist id="sexo-list">
                        <option value="Masculino">
                        <option value="Feminino">
                        <option value="Outros">
                    </datalist>
                </div>

                <p>Email</p>
                <div class="box">
                    <input type="email" id="email" placeholder="Digite seu email..." required />
                    <span id="erro-email" style="color: red; font-size: 14px; display: none;">E-mail inválido (deve
                        conter @ e .com)</span>
                </div>

                <p>Telefone</p>
                <div class="box">
                    <input type="text" placeholder="Digite seu Telefone..." required />
                </div>

                <p>Documento de Identidade</p>
                <div class="upload-container">
                    <label for="doc-upload" class="upload-box">
                        <img src="./imagens/cloud-upload.png" alt="Upload Icon" />
                        <p>Clique aqui para selecionar o arquivo</p>
                        <input type="file" id="doc-upload" accept=".pdf,.jpg,.png" required />
                    </label>
                </div>
            </div>

            <div class="end_residencial">
                <h3>Endereço Residencial</h3>

                <p>Cep</p>
                <div class="box">
                    <input type="text" placeholder="00000-000" maxlength="8" required />
                </div>

                <p>Rua</p>
                <div class="box">
                    <input type="text" placeholder="Rua..." required />
                </div>

                <p>Número</p>
                <div class="box">
                    <input type="text" placeholder="Número..." required />
                </div>

                <p>Cidade</p>
                <div class="box">
                    <input type="text" placeholder="Cidade..." required />
                </div>

                <p>Estado</p>
                <div class="box">
                    <input type="text" placeholder="Seu estado aqui..." required />
                </div>

                <p>Comprovante de Residência</p>
                <div class="upload-container">
                    <label for="res-upload" class="upload-box">
                        <img src="./imagens/cloud-upload.png" alt="Upload Icon" />
                        <p>Clique aqui para selecionar o arquivo</p>
                        <input type="file" id="res-upload" accept=".pdf,.jpg,.png" required />
                    </label>
                </div>

                <p>ID do Usuário</p>
                <div class="box">
                    <input type="text" id="id-usuario" placeholder="Digite seu ID..." required />
                </div>

                <p>Senha</p>
                <div class="box">
                    <input type="password" id="senha" placeholder="Digite sua senha..." required />
                </div>

                <p><input type="checkbox" id="salvar-dados"> Salvar dados</p>
                <button class="btn-salvar" onclick="salvarDados()">Salvar Dados</button>
            </div>

            <h3>Escolha a Trilha de aprendizagem desejada</h3>
            <div class="container">
                <label class="card">
                    <input type="radio" name="curso" required />
                    <div class="content">
                        <img src="./imagens/front-end.png" class="icon" />
                        <p>Programação Front-end</p>
                    </div>
                </label>

                <label class="card">
                    <input type="radio" name="curso" />
                    <div class="content">
                        <img src="./imagens/back-end.png" class="icon" />
                        <p>Programação Back-end</p>
                    </div>
                </label>

                <label class="card">
                    <input type="radio" name="curso" />
                    <div class="content">
                        <img src="./imagens/jogos.png" class="icon" />
                        <p>Programação de Jogos</p>
                    </div>
                </label>

                <label class="card">
                    <input type="radio" name="curso" />
                    <div class="content">
                        <img src="./imagens/ux.png" class="icon" />
                        <p>Design e Experiência</p>
                    </div>
                </label>

                <label class="card">
                    <input type="radio" name="curso" />
                    <div class="content">
                        <img src="./imagens/Frame 48095973.png" class="icon" />
                        <p>Ciência de Dados</p>
                    </div>
                </label>
            </div>

            <div class="container__acordos">
                <label class="checkbox-label">
                    <input type="checkbox" required />
                    <span class="checkmark"></span>
                    Declaro que li e concordo com os
                    <a href="#">Termos e Condições</a> e com a
                    <a href="#">Política de Privacidade</a>.
                </label>

                <div class="buttons">
                    <button class="btn cancel" type="reset">Cancelar</button>
                    <button class="btn submit" onclick="validarFormulario()">Fazer inscrição</button>
                </div>
                <p id="mensagem-sucesso" style="color: green; font-weight: bold; margin-top: 10px;"></p>
            </div>
        </section>

        <section class="imagens__lado__a__lado">
            <img src="./imagens/Inscricao2.png" alt="imagem do curso" />
        </section>
    </main>

    <script>
        function validarFormulario() {
            const campos = document.querySelectorAll("input[required]");
            let valido = true;

            campos.forEach((campo) => {
                if (!campo.value.trim()) {
                    campo.style.border = "2px solid red";
                    valido = false;
                } else {
                    campo.style.border = "1px solid #ccc";
                }
            });

            const email = document.getElementById("email");
            const erroEmail = document.getElementById("erro-email");
            const regexEmail = /^[^\s@]+@[^\s@]+\.com$/;
            if (!regexEmail.test(email.value.trim())) {
                erroEmail.style.display = "block";
                email.style.border = "2px solid red";
                valido = false;
            } else {
                erroEmail.style.display = "none";
                email.style.border = "1px solid #ccc";
            }

            const dataNascimento = document.getElementById("data-nascimento");
            const erroData = document.getElementById("erro-data");
            const regexData = /^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[0-2])\/\d{4}$/;
            if (!regexData.test(dataNascimento.value.trim())) {
                erroData.style.display = "block";
                dataNascimento.style.border = "2px solid red";
                valido = false;
            } else {
                erroData.style.display = "none";
                dataNascimento.style.border = "1px solid #ccc";
            }

            const cpf = document.getElementById("cpf");
            const erroCpf = document.getElementById("erro-cpf");
            const regexCpf = /^\d{3}\.\d{3}\.\d{3}-\d{2}$/;
            if (!regexCpf.test(cpf.value.trim())) {
                erroCpf.style.display = "block";
                cpf.style.border = "2px solid red";
                valido = false;
            } else {
                erroCpf.style.display = "none";
                cpf.style.border = "1px solid #ccc";
            }

            if (!valido) {
                document.getElementById("mensagem-sucesso").textContent = "";
                alert("Por favor, corrija os campos destacados.");
                return;
            }

            // Mensagem de sucesso + redirecionamento
            document.getElementById("mensagem-sucesso").textContent = "Inscrição realizada com sucesso! Redirecionando...";
            setTimeout(() => {
                window.location.href = "login.html";
            }, 2000);

        }

        function salvarDados() {
            const id = document.getElementById("id-usuario").value;
            const senha = document.getElementById("senha").value;
            const salvar = document.getElementById("salvar-dados").checked;

            if (salvar) {
                localStorage.setItem("usuarioID", id);
                localStorage.setItem("usuarioSenha", senha);
                alert("Dados salvos com sucesso!");
            } else {
                localStorage.removeItem("usuarioID");
                localStorage.removeItem("usuarioSenha");
                alert("Dados não foram salvos (caixa não marcada).");
            }
        }
    </script>
</body>

</html>